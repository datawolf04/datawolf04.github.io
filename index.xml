<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Steven Wolf - Data World</title>
<link>https://datawolf04.github.io/</link>
<atom:link href="https://datawolf04.github.io/index.xml" rel="self" type="application/rss+xml"/>
<description>A place to play with data</description>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Tue, 20 Aug 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>English Monarchy</title>
  <dc:creator>Steven Wolf</dc:creator>
  <link>https://datawolf04.github.io/posts/tt20240819/englishMonarchy.html</link>
  <description><![CDATA[ 





<p>This week’s #TidyTuesday is all about exploring English Monarchs and Marriages!</p>
<blockquote class="blockquote">
<p>this dataset focuses on the names, ages, and marriages of various ‘kings’ and ‘consorts’. the data ranges all the way back to 850 where the details are a bit fuzzy, spanning all the way to current day. names contain special characters; ages &amp; years can be a bit of a regex puzzle as well. additionally, the age of kings and consorts may show quite a bit of an age gap.</p>
</blockquote>
<p>The data was scraped from <a href="https://www.ianvisits.co.uk/articles/a-list-of-monarchs-by-marriage-6857/">Ian Visits</a> by <a href="https://github.com/frankiethull">f.&nbsp;hull</a>, who also curated this week’s post!</p>
<section id="additionschanges-to-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="additionschanges-to-the-dataset">Additions/changes to the dataset</h3>
<p>I will note a few things which I can highlight by looking at the end of the dataset:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  king_name    king_age consort_name                consort_age year_of_marriage
  &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;                       &lt;chr&gt;       &lt;chr&gt;           
1 Victoria     21       Albert of Saxe-Coburg and … 21          1840            
2 Edward VII   22       Alexandra of Denmark        19          1863            
3 George V     28       Mary of Teck                26          1893            
4 Edward VIII  43       Wallis Warfield Simpson     41          1937            
5 George VI    28       Elizabeth Bowes-Lyon        23          1923            
6 Elizabeth II 21       Philip of Greece and Denma… 26          1947            </code></pre>
</div>
</div>
<ol type="1">
<li>King Charles III is not in this dataset. I will add him into the dataset. I’ll also include his consort as Camilla, rather than Diana, as Diana was not married to Charles during his reign.</li>
<li>The dataset refers to the <strong>king</strong> rather than a gender neutral term. I will replace it with <strong>sovereign</strong>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(monarchDat) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(monarchDat),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"king"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sovereign"</span>)</span>
<span id="cb2-2">charles <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Charles III'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'57'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Camilla Parker Bowles'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'xx'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2005'</span>)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(charles) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(monarchDat)</span>
<span id="cb2-4">monarchDat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(monarchDat,charles)</span></code></pre></div>
</div>
<p>I have retained the term consort as I don’t have a better one. I’m shuddering a bit though because we have a 5 and a 3 year old in this dataset:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
  sovereign_name       sovereign_age consort_name   consort_age year_of_marriage
  &lt;chr&gt;                &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;           
1 Henry the Young King 5             Margaret of F… 3           1160            </code></pre>
</div>
</div>
<p>Finally, I also collected data of the different dynasties of English royalty taken from <a href="https://en.wikipedia.org/wiki/List_of_English_monarchs">Wikipedia</a> and <a href="https://kids.britannica.com/students/article/kings-and-queens-of-Britain-at-a-glance/626780">Britannica</a>. That data is the the file <a href="./englishDynasties.csv"><code>englishDynasties.csv</code></a>.</p>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data cleaning</h2>
<p>As one might expect from a dataset that has been scraped from a webpage written by a London history/culture type, there is some inconsistency in how the data has been cataloged. And as the prompt for the week says, some of the early data is “fuzzy”. So I want to clean it up. Here is a quick look at the data:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 84
Columns: 5
$ sovereign_name   &lt;chr&gt; "Æthelwulf", "Æthelwulf", "Æthelbald", "Æthelberht", …
$ sovereign_age    &lt;chr&gt; "?", "50(?)", "24", "–", "?", "19", "19", "28", "31",…
$ consort_name     &lt;chr&gt; "Osburh", "Judith of Flanders", "Judith of Flanders",…
$ consort_age      &lt;chr&gt; "?", "12", "14", "–", "?", "16", "?", "?", "?", "–", …
$ year_of_marriage &lt;chr&gt; "851(?)", "856", "858", "–", "?", "868", "893", "902"…</code></pre>
</div>
</div>
<p>As you can see above, uncertainty in the dataset is often indicated with <code>?</code> or <code>-</code> being included in the string. Ultimately I want to work with numeric variables, for things like age and year, so I’m going to need to clean them up. I also want to track whether a date or age is uncertain, so I am going to create columns tracking that information. All of the queens in the dataset are named Mary, Elizabeth, Anne, or Victoria. Using <code>str_detect</code> and some <code>OR</code> logic, I believe that I have caught all of them.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 84
Columns: 14
$ sovereign_name       &lt;chr&gt; "Æthelwulf", "Æthelwulf", "Æthelbald", "Æthelberh…
$ sovereign_age        &lt;dbl&gt; NA, 50, 24, NA, NA, 19, 19, 28, 31, NA, NA, 22, N…
$ consort_name         &lt;chr&gt; "Osburh", "Judith of Flanders", "Judith of Flande…
$ consort_age          &lt;dbl&gt; NA, 12, 14, NA, NA, 16, NA, NA, NA, NA, NA, NA, N…
$ year_of_marriage     &lt;dbl&gt; 851, 856, 858, NA, NA, 868, 893, 902, 905, NA, NA…
$ sovereign_age_unc    &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FAL…
$ consort_age_unc      &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, TRU…
$ year_of_marriage_unc &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FA…
$ any_unc              &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE…
$ sovereign_type       &lt;fct&gt; King, King, King, King, King, King, King, King, K…
$ age_diff_pos         &lt;lgl&gt; NA, TRUE, TRUE, NA, NA, TRUE, NA, NA, NA, NA, NA,…
$ age_diff             &lt;dbl&gt; NA, 38, 10, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA…
$ min_age              &lt;dbl&gt; NA, 12, 14, NA, NA, 16, NA, NA, NA, NA, NA, NA, N…
$ max_age              &lt;dbl&gt; NA, 50, 24, NA, NA, 19, NA, NA, NA, NA, NA, NA, N…</code></pre>
</div>
</div>
</section>
<section id="plan" class="level2">
<h2 class="anchored" data-anchor-id="plan">Plan</h2>
<p>Make a plot with sovereign age and consort age vs.&nbsp;the year of marriage. On this plot I’m going to highlight:</p>
<ol type="1">
<li>The age gap. If both sovereign and consort have the age recorded in the data, there will be a vertical line drawn from the younger to the elder.</li>
<li>The gender of the sovereign. Kings are light blue and queens are pink.</li>
<li>Marriages with uncertain data (either in the year or the ages of those involved) are more transparent so that they stand out less.</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240819/englishMonarchy_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="one-more-visualization" class="level2">
<h2 class="anchored" data-anchor-id="one-more-visualization">One more visualization</h2>
<p>Pairs plots are fun, and the <code>ggpairs</code> function will automatically calculate some correlation values and put them on the plot as well. I’ve always done these using old school <code>pairs</code> and I thought it would be fun to look at one using the <code>ggplot</code> version. One big advantage is how it automatically uses the <code>facet_grid</code> framework to make the plots and include special plots along the diagonal. You could do the same thing with <code>pairs</code>, but it was more work.</p>
<p>A few notes about this plot:</p>
<ul>
<li>The density plots for the sovereign queens are “spikey” (for lack of a better term). There are just so few sovereign queens. Furthermore the age range at marriage is broad enough that this distribution is just not smooth. Until recently, the succession rules heavily favored male heirs. With the new rules recently adapted, maybe in another millenium or two, there will be enough sovereign queens that we can start approaching gender parity in this area.</li>
<li>Also, even though the sovereign queens were the monarch, they also were (in general) younger than their consort, while the opposite is true for the kings.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240819/englishMonarchy_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-model-that-wasnt-quite-there" class="level2">
<h2 class="anchored" data-anchor-id="the-model-that-wasnt-quite-there">The model that wasn’t quite there</h2>
<ul>
<li>I like making different kinds of models. I’m wondering if we can build a model for sovereign age at marriage given inputs like gender and year. I didn’t do it here, in part, because I think that there is other work to be done. In particular, how long a sovereign has been in power would be useful data to gather, as well as figuring out how to deal with multiple marriages such as the case of Henry VIII.</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  sovereign_name sovereign_age consort_name        consort_age year_of_marriage
  &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;               &lt;chr&gt;       &lt;chr&gt;           
1 Henry VIII     18            Catherine of Aragon 24          1509            
2 Henry VIII     42            Anne Boleyn         32          1533            
3 Henry VIII     45            Jane Seymour        28          1536            
4 Henry VIII     49            Anne of Cleves      25          1540            
5 Henry VIII     49            Catherine Howard    19          1540            
6 Henry VIII     52            Catherine Parr      31          1543            </code></pre>
</div>
</div>
</section>
<section id="ew" class="level2">
<h2 class="anchored" data-anchor-id="ew">Ew</h2>
<p>I thought about ignoring this, but 2024 me simply cannot. I know it was a different time. I am simply upset that a society allowed this sort of predatory behavior under the guise of a self-proclaimed and self-serving monarch declaring his divine right as well as the nobility that enabled and enforced this behavior in service of the accumulation of power. So I’m creating a table and calling it my “Hall of Shame.” I’m not sure that age difference in a relationship is the single best way for building this group, but that’s the data that I have in front of me to use.</p>
<div class="cell">
<div class="cell-output-display">
<div id="easuuzfdlp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#easuuzfdlp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#easuuzfdlp thead, #easuuzfdlp tbody, #easuuzfdlp tfoot, #easuuzfdlp tr, #easuuzfdlp td, #easuuzfdlp th {
  border-style: none;
}

#easuuzfdlp p {
  margin: 0;
  padding: 0;
}

#easuuzfdlp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#easuuzfdlp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#easuuzfdlp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#easuuzfdlp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#easuuzfdlp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#easuuzfdlp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#easuuzfdlp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#easuuzfdlp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#easuuzfdlp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#easuuzfdlp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#easuuzfdlp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#easuuzfdlp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#easuuzfdlp .gt_spanner_row {
  border-bottom-style: hidden;
}

#easuuzfdlp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#easuuzfdlp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#easuuzfdlp .gt_from_md > :first-child {
  margin-top: 0;
}

#easuuzfdlp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#easuuzfdlp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#easuuzfdlp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#easuuzfdlp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#easuuzfdlp .gt_row_group_first td {
  border-top-width: 2px;
}

#easuuzfdlp .gt_row_group_first th {
  border-top-width: 2px;
}

#easuuzfdlp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#easuuzfdlp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#easuuzfdlp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#easuuzfdlp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#easuuzfdlp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#easuuzfdlp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#easuuzfdlp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#easuuzfdlp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#easuuzfdlp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#easuuzfdlp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#easuuzfdlp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#easuuzfdlp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#easuuzfdlp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#easuuzfdlp .gt_left {
  text-align: left;
}

#easuuzfdlp .gt_center {
  text-align: center;
}

#easuuzfdlp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#easuuzfdlp .gt_font_normal {
  font-weight: normal;
}

#easuuzfdlp .gt_font_bold {
  font-weight: bold;
}

#easuuzfdlp .gt_font_italic {
  font-style: italic;
}

#easuuzfdlp .gt_super {
  font-size: 65%;
}

#easuuzfdlp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#easuuzfdlp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#easuuzfdlp .gt_indent_1 {
  text-indent: 5px;
}

#easuuzfdlp .gt_indent_2 {
  text-indent: 10px;
}

#easuuzfdlp .gt_indent_3 {
  text-indent: 15px;
}

#easuuzfdlp .gt_indent_4 {
  text-indent: 20px;
}

#easuuzfdlp .gt_indent_5 {
  text-indent: 25px;
}

#easuuzfdlp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#easuuzfdlp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header gt_heading">
<th colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="background-color: #3B7C70; color: #FFFFFF"><p>Hall of Shame</p></th>
</tr>
<tr class="odd gt_col_headings gt_spanner_row">
<th colspan="2" id="Perpetraitor" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="colgroup"><span class="gt_column_spanner">Perpetraitor</span></th>
<th colspan="2" id="Victim" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="colgroup"><span class="gt_column_spanner">Victim</span></th>
<th rowspan="2" id="Δ" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Δ</th>
<th rowspan="2" id="Year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Year</th>
</tr>
<tr class="header gt_col_headings">
<th id="Name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Name</th>
<th id="Age" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Age</th>
<th id="Name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Name</th>
<th id="Age" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Age</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="sovereign_name">Edward I</td>
<td class="gt_row gt_right" headers="sovereign_age">60</td>
<td class="gt_row gt_left" headers="consort_name">Margaret of France</td>
<td class="gt_row gt_right" headers="consort_age">20</td>
<td class="gt_row gt_right" headers="age_diff">40</td>
<td class="gt_row gt_right" headers="year_of_marriage">1299</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sovereign_name">Æthelwulf</td>
<td class="gt_row gt_right" headers="sovereign_age">50</td>
<td class="gt_row gt_left" headers="consort_name">Judith of Flanders</td>
<td class="gt_row gt_right" headers="consort_age">12</td>
<td class="gt_row gt_right" headers="age_diff">38</td>
<td class="gt_row gt_right" headers="year_of_marriage">856</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sovereign_name">Henry I</td>
<td class="gt_row gt_right" headers="sovereign_age">53</td>
<td class="gt_row gt_left" headers="consort_name">Adeliza of Louvain</td>
<td class="gt_row gt_right" headers="consort_age">18</td>
<td class="gt_row gt_right" headers="age_diff">35</td>
<td class="gt_row gt_right" headers="year_of_marriage">1121</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sovereign_name">Henry VIII</td>
<td class="gt_row gt_right" headers="sovereign_age">49</td>
<td class="gt_row gt_left" headers="consort_name">Catherine Howard</td>
<td class="gt_row gt_right" headers="consort_age">19</td>
<td class="gt_row gt_right" headers="age_diff">30</td>
<td class="gt_row gt_right" headers="year_of_marriage">1540</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sovereign_name">William IV</td>
<td class="gt_row gt_right" headers="sovereign_age">53</td>
<td class="gt_row gt_left" headers="consort_name">Adelaide of Saxe-Meiningen</td>
<td class="gt_row gt_right" headers="consort_age">26</td>
<td class="gt_row gt_right" headers="age_diff">27</td>
<td class="gt_row gt_right" headers="year_of_marriage">1818</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sovereign_name">James II</td>
<td class="gt_row gt_right" headers="sovereign_age">40</td>
<td class="gt_row gt_left" headers="consort_name">Mary of Modena</td>
<td class="gt_row gt_right" headers="consort_age">15</td>
<td class="gt_row gt_right" headers="age_diff">25</td>
<td class="gt_row gt_right" headers="year_of_marriage">1673</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="6" class="gt_sourcenote" style="background-color: #3B7C70; color: #FFFFFF"><p><strong>#TidyTuesday</strong> • Sources: Ian Visits and f.&nbsp;hull dataset</p></td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>


</section>

 ]]></description>
  <category>tidyTuesday</category>
  <category>R</category>
  <guid>https://datawolf04.github.io/posts/tt20240819/englishMonarchy.html</guid>
  <pubDate>Tue, 20 Aug 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>World’s Fairs</title>
  <dc:creator>Steven Wolf</dc:creator>
  <link>https://datawolf04.github.io/posts/tt20240813/worldFairs.html</link>
  <description><![CDATA[ 





<p>This week’s #TidyTuesday is all about World’s Fairs, and I have always wanted to figure out how to make a visualization with a map. So this is the week that I try that out. In addition to the data from Wikipedia in the given dataset, I have also downloaded <a href="https://www.kaggle.com/datasets/hserdaraltan/countries-by-continent">S. Altan’s Kaggle Dataset: Countries by Continent</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gt)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rworldmap)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(paletteer)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(RColorBrewer)</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'worldsFairs.Rdata'</span>)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">source</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'helperFunctions.R'</span>)</span></code></pre></div>
</div>
<section id="plan-and-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="plan-and-data-cleaning">Plan and data cleaning</h2>
<p>My plan is to create visualizations that look at different world’s fair properties by continent and country. I will clean the data a bit, and then generate some tables.</p>
<section id="continental-breakdown-of-worlds-fair" class="level3">
<h3 class="anchored" data-anchor-id="continental-breakdown-of-worlds-fair">Continental breakdown of World’s fair</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">fairData <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(worlds_fairs,countryContinent, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'country'</span>)</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Replace missing continents by hand</span></span>
<span id="cb2-4">missing <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Europe"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Oceania"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Europe"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Europe"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Asia"</span>)</span>
<span id="cb2-5">fairData<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>continent[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(fairData<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>continent)] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> missing</span>
<span id="cb2-6"></span>
<span id="cb2-7">fairDataByContinent <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> fairData <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb2-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcFLMV</span>(start_month, start_year, end_month, end_year) </span>
<span id="cb2-10">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(continent) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb2-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">N =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(),</span>
<span id="cb2-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">where</span>(is.numeric), <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(.x,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb2-14">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'start_month'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'start_year'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'end_month'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'end_year'</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="tkevivlkel" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tkevivlkel table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tkevivlkel thead, #tkevivlkel tbody, #tkevivlkel tfoot, #tkevivlkel tr, #tkevivlkel td, #tkevivlkel th {
  border-style: none;
}

#tkevivlkel p {
  margin: 0;
  padding: 0;
}

#tkevivlkel .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tkevivlkel .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tkevivlkel .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tkevivlkel .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tkevivlkel .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tkevivlkel .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tkevivlkel .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tkevivlkel .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tkevivlkel .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tkevivlkel .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tkevivlkel .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tkevivlkel .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tkevivlkel .gt_spanner_row {
  border-bottom-style: hidden;
}

#tkevivlkel .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tkevivlkel .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tkevivlkel .gt_from_md > :first-child {
  margin-top: 0;
}

#tkevivlkel .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tkevivlkel .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tkevivlkel .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tkevivlkel .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tkevivlkel .gt_row_group_first td {
  border-top-width: 2px;
}

#tkevivlkel .gt_row_group_first th {
  border-top-width: 2px;
}

#tkevivlkel .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tkevivlkel .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tkevivlkel .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tkevivlkel .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tkevivlkel .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tkevivlkel .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tkevivlkel .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tkevivlkel .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tkevivlkel .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tkevivlkel .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tkevivlkel .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tkevivlkel .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tkevivlkel .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tkevivlkel .gt_left {
  text-align: left;
}

#tkevivlkel .gt_center {
  text-align: center;
}

#tkevivlkel .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tkevivlkel .gt_font_normal {
  font-weight: normal;
}

#tkevivlkel .gt_font_bold {
  font-weight: bold;
}

#tkevivlkel .gt_font_italic {
  font-style: italic;
}

#tkevivlkel .gt_super {
  font-size: 65%;
}

#tkevivlkel .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tkevivlkel .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tkevivlkel .gt_indent_1 {
  text-indent: 5px;
}

#tkevivlkel .gt_indent_2 {
  text-indent: 10px;
}

#tkevivlkel .gt_indent_3 {
  text-indent: 15px;
}

#tkevivlkel .gt_indent_4 {
  text-indent: 20px;
}

#tkevivlkel .gt_indent_5 {
  text-indent: 25px;
}

#tkevivlkel .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tkevivlkel div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="background-color: #3B7C70; color: #FFFFFF;">World's Fair by the numbers</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="background-color: #3B7C70; color: #FFFFFF;">Average properties by host continent</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Continent">Continent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Number Hosted">Number Hosted</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Visitors (M)">Visitors (M)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Avg. cost (M$)">Avg. cost (M$)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Land area (hectares)">Land area (hectares)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Number of attending countries">Number of attending countries</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Fair duration (mo)">Fair duration (mo)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="continent" class="gt_row gt_left">Asia</td>
<td headers="N" class="gt_row gt_right">11</td>
<td headers="visitors" class="gt_row gt_right">26.0</td>
<td headers="cost" class="gt_row gt_right">1,999.7</td>
<td headers="area" class="gt_row gt_right">169.4</td>
<td headers="attending_countries" class="gt_row gt_right">103.5</td>
<td headers="duration" class="gt_row gt_right">5.1</td></tr>
    <tr><td headers="continent" class="gt_row gt_left">Europe</td>
<td headers="N" class="gt_row gt_right">43</td>
<td headers="visitors" class="gt_row gt_right">12.7</td>
<td headers="cost" class="gt_row gt_right">547.8</td>
<td headers="area" class="gt_row gt_right">77.1</td>
<td headers="attending_countries" class="gt_row gt_right">42.7</td>
<td headers="duration" class="gt_row gt_right">5.2</td></tr>
    <tr><td headers="continent" class="gt_row gt_left">North America</td>
<td headers="N" class="gt_row gt_right">14</td>
<td headers="visitors" class="gt_row gt_right">20.9</td>
<td headers="cost" class="gt_row gt_right">281.4</td>
<td headers="area" class="gt_row gt_right">144.2</td>
<td headers="attending_countries" class="gt_row gt_right">29.8</td>
<td headers="duration" class="gt_row gt_right">8.9</td></tr>
    <tr><td headers="continent" class="gt_row gt_left">Oceania</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">9.9</td>
<td headers="cost" class="gt_row gt_right">320.5</td>
<td headers="area" class="gt_row gt_right">32.5</td>
<td headers="attending_countries" class="gt_row gt_right">34.5</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" style="background-color: #3B7C70; color: #FFFFFF;" colspan="7"><div data-qmd-base64="KiojVGlkeVR1ZXNkYXkqKiAmYnVsbDsgU291cmNlczogV2lraXBlZGlhIGFuZCBTLiBBbHRhbiBLYWdnbGUgZGF0YXNldA=="><div class="gt_from_md"><p><strong>#TidyTuesday</strong> • Sources: Wikipedia and S. Altan Kaggle dataset</p>
</div></div></td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" style="background-color: #3B7C70; color: #FFFFFF;" colspan="7"> Missing data was ignored from averages taken.</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="country-breakdown-of-worlds-fair" class="level3">
<h3 class="anchored" data-anchor-id="country-breakdown-of-worlds-fair">Country breakdown of world’s fair</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">fairDataByCountry <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> fairData <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcFLMV</span>(start_month, start_year, end_month, end_year) </span>
<span id="cb3-4">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(country) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb3-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">N =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(),</span>
<span id="cb3-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">where</span>(is.numeric), <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(.x,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb3-8">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb3-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'start_month'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'start_year'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'end_month'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'end_year'</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="qizopjyhmy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qizopjyhmy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qizopjyhmy thead, #qizopjyhmy tbody, #qizopjyhmy tfoot, #qizopjyhmy tr, #qizopjyhmy td, #qizopjyhmy th {
  border-style: none;
}

#qizopjyhmy p {
  margin: 0;
  padding: 0;
}

#qizopjyhmy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qizopjyhmy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qizopjyhmy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qizopjyhmy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qizopjyhmy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qizopjyhmy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qizopjyhmy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qizopjyhmy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qizopjyhmy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qizopjyhmy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qizopjyhmy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qizopjyhmy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qizopjyhmy .gt_spanner_row {
  border-bottom-style: hidden;
}

#qizopjyhmy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qizopjyhmy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qizopjyhmy .gt_from_md > :first-child {
  margin-top: 0;
}

#qizopjyhmy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qizopjyhmy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qizopjyhmy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qizopjyhmy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qizopjyhmy .gt_row_group_first td {
  border-top-width: 2px;
}

#qizopjyhmy .gt_row_group_first th {
  border-top-width: 2px;
}

#qizopjyhmy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qizopjyhmy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qizopjyhmy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qizopjyhmy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qizopjyhmy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qizopjyhmy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qizopjyhmy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qizopjyhmy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qizopjyhmy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qizopjyhmy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qizopjyhmy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qizopjyhmy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qizopjyhmy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qizopjyhmy .gt_left {
  text-align: left;
}

#qizopjyhmy .gt_center {
  text-align: center;
}

#qizopjyhmy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qizopjyhmy .gt_font_normal {
  font-weight: normal;
}

#qizopjyhmy .gt_font_bold {
  font-weight: bold;
}

#qizopjyhmy .gt_font_italic {
  font-style: italic;
}

#qizopjyhmy .gt_super {
  font-size: 65%;
}

#qizopjyhmy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qizopjyhmy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qizopjyhmy .gt_indent_1 {
  text-indent: 5px;
}

#qizopjyhmy .gt_indent_2 {
  text-indent: 10px;
}

#qizopjyhmy .gt_indent_3 {
  text-indent: 15px;
}

#qizopjyhmy .gt_indent_4 {
  text-indent: 20px;
}

#qizopjyhmy .gt_indent_5 {
  text-indent: 25px;
}

#qizopjyhmy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#qizopjyhmy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="background-color: #3B7C70; color: #FFFFFF;">World's Fair by the numbers</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="background-color: #3B7C70; color: #FFFFFF;">Average properties by host country</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Country">Country</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Number Hosted">Number Hosted</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Visitors (M)">Visitors (M)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Fair cost (M$)">Fair cost (M$)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Land area (hectares)">Land area (hectares)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Number of attending countries">Number of attending countries</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #3B3A3E; color: #FFFFFF;" scope="col" id="Fair duration (mo)">Fair duration (mo)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="country" class="gt_row gt_left">Australia</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">18.5</td>
<td headers="cost" class="gt_row gt_right">625.0</td>
<td headers="area" class="gt_row gt_right">40.0</td>
<td headers="attending_countries" class="gt_row gt_right">36.0</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Austria-Hungary</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">7.2</td>
<td headers="cost" class="gt_row gt_right">95.0</td>
<td headers="area" class="gt_row gt_right">233.0</td>
<td headers="attending_countries" class="gt_row gt_right">35.0</td>
<td headers="duration" class="gt_row gt_right">6.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Belgium</td>
<td headers="N" class="gt_row gt_right">7</td>
<td headers="visitors" class="gt_row gt_right">16.4</td>
<td headers="cost" class="gt_row gt_right">558.8</td>
<td headers="area" class="gt_row gt_right">117.7</td>
<td headers="attending_countries" class="gt_row gt_right">26.9</td>
<td headers="duration" class="gt_row gt_right">6.7</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Bulgaria</td>
<td headers="N" class="gt_row gt_right">3</td>
<td headers="visitors" class="gt_row gt_right">1.0</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">5.8</td>
<td headers="attending_countries" class="gt_row gt_right">40.5</td>
<td headers="duration" class="gt_row gt_right">1.7</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Canada</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">36.2</td>
<td headers="cost" class="gt_row gt_right">371.0</td>
<td headers="area" class="gt_row gt_right">217.5</td>
<td headers="attending_countries" class="gt_row gt_right">58.5</td>
<td headers="duration" class="gt_row gt_right">6.5</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Colony of Victoria</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">1.3</td>
<td headers="cost" class="gt_row gt_right">16.0</td>
<td headers="area" class="gt_row gt_right">25.0</td>
<td headers="attending_countries" class="gt_row gt_right">33.0</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Finland</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">—</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">0.1</td>
<td headers="attending_countries" class="gt_row gt_right">25.0</td>
<td headers="duration" class="gt_row gt_right">1.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">France</td>
<td headers="N" class="gt_row gt_right">9</td>
<td headers="visitors" class="gt_row gt_right">21.6</td>
<td headers="cost" class="gt_row gt_right">556.0</td>
<td headers="area" class="gt_row gt_right">67.9</td>
<td headers="attending_countries" class="gt_row gt_right">34.5</td>
<td headers="duration" class="gt_row gt_right">5.4</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Germany</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">18.1</td>
<td headers="cost" class="gt_row gt_right">3,400.0</td>
<td headers="area" class="gt_row gt_right">160.0</td>
<td headers="attending_countries" class="gt_row gt_right">155.0</td>
<td headers="duration" class="gt_row gt_right">5.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Haiti</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">—</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">24.0</td>
<td headers="attending_countries" class="gt_row gt_right">15.0</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Hungary</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">1.9</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">35.0</td>
<td headers="attending_countries" class="gt_row gt_right">52.0</td>
<td headers="duration" class="gt_row gt_right">2.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Israel</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">—</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">29.8</td>
<td headers="attending_countries" class="gt_row gt_right">13.0</td>
<td headers="duration" class="gt_row gt_right">2.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Italy</td>
<td headers="N" class="gt_row gt_right">8</td>
<td headers="visitors" class="gt_row gt_right">7.7</td>
<td headers="cost" class="gt_row gt_right">26.0</td>
<td headers="area" class="gt_row gt_right">68.3</td>
<td headers="attending_countries" class="gt_row gt_right">44.1</td>
<td headers="duration" class="gt_row gt_right">5.5</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Japan</td>
<td headers="N" class="gt_row gt_right">4</td>
<td headers="visitors" class="gt_row gt_right">27.5</td>
<td headers="cost" class="gt_row gt_right">30.0</td>
<td headers="area" class="gt_row gt_right">175.7</td>
<td headers="attending_countries" class="gt_row gt_right">69.8</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Kazakhstan</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">4.1</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">25.0</td>
<td headers="attending_countries" class="gt_row gt_right">115.0</td>
<td headers="duration" class="gt_row gt_right">4.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">People's Republic of China</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">73.1</td>
<td headers="cost" class="gt_row gt_right">4,200.0</td>
<td headers="area" class="gt_row gt_right">523.0</td>
<td headers="attending_countries" class="gt_row gt_right">192.0</td>
<td headers="duration" class="gt_row gt_right">6.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Portugal</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">10.1</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">50.0</td>
<td headers="attending_countries" class="gt_row gt_right">143.0</td>
<td headers="duration" class="gt_row gt_right">5.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">South Korea</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">11.3</td>
<td headers="cost" class="gt_row gt_right">1,769.0</td>
<td headers="area" class="gt_row gt_right">57.5</td>
<td headers="attending_countries" class="gt_row gt_right">122.0</td>
<td headers="duration" class="gt_row gt_right">4.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Spain</td>
<td headers="N" class="gt_row gt_right">4</td>
<td headers="visitors" class="gt_row gt_right">13.9</td>
<td headers="cost" class="gt_row gt_right">21.0</td>
<td headers="area" class="gt_row gt_right">101.2</td>
<td headers="attending_countries" class="gt_row gt_right">68.8</td>
<td headers="duration" class="gt_row gt_right">7.2</td></tr>
    <tr><td headers="country" class="gt_row gt_left">Sweden</td>
<td headers="N" class="gt_row gt_right">3</td>
<td headers="visitors" class="gt_row gt_right">—</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">0.5</td>
<td headers="attending_countries" class="gt_row gt_right">18.3</td>
<td headers="duration" class="gt_row gt_right">2.3</td></tr>
    <tr><td headers="country" class="gt_row gt_left">United Arab Emirates</td>
<td headers="N" class="gt_row gt_right">1</td>
<td headers="visitors" class="gt_row gt_right">24.1</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">438.0</td>
<td headers="attending_countries" class="gt_row gt_right">192.0</td>
<td headers="duration" class="gt_row gt_right">6.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">United Kingdom</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">6.0</td>
<td headers="cost" class="gt_row gt_right">83.5</td>
<td headers="area" class="gt_row gt_right">12.5</td>
<td headers="attending_countries" class="gt_row gt_right">32.0</td>
<td headers="duration" class="gt_row gt_right">7.0</td></tr>
    <tr><td headers="country" class="gt_row gt_left">United States</td>
<td headers="N" class="gt_row gt_right">11</td>
<td headers="visitors" class="gt_row gt_right">18.2</td>
<td headers="cost" class="gt_row gt_right">265.1</td>
<td headers="area" class="gt_row gt_right">141.8</td>
<td headers="attending_countries" class="gt_row gt_right">25.6</td>
<td headers="duration" class="gt_row gt_right">9.5</td></tr>
    <tr><td headers="country" class="gt_row gt_left">West Germany</td>
<td headers="N" class="gt_row gt_right">2</td>
<td headers="visitors" class="gt_row gt_right">2.1</td>
<td headers="cost" class="gt_row gt_right">—</td>
<td headers="area" class="gt_row gt_right">51.6</td>
<td headers="attending_countries" class="gt_row gt_right">24.5</td>
<td headers="duration" class="gt_row gt_right">4.0</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" style="background-color: #3B7C70; color: #FFFFFF;" colspan="7"><div data-qmd-base64="KiojVGlkeVR1ZXNkYXkqKiAmYnVsbDsgU291cmNlczogV2lraXBlZGlhIGFuZCBTLiBBbHRhbiBLYWdnbGUgZGF0YXNldA=="><div class="gt_from_md"><p><strong>#TidyTuesday</strong> • Sources: Wikipedia and S. Altan Kaggle dataset</p>
</div></div></td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" style="background-color: #3B7C70; color: #FFFFFF;" colspan="7"> Missing data was ignored from averages taken. Blank values imply no data exists for that country and quantity.</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="putting-this-on-a-map" class="level2">
<h2 class="anchored" data-anchor-id="putting-this-on-a-map">Putting this on a map</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">worldFairMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">joinCountryData2Map</span>(fairDataByCountry, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">joinCode =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'NAME'</span>,</span>
<span id="cb4-2">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameJoinColumn =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"country"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>21 codes from your data successfully matched countries in the map
3 codes from your data failed to match with a country code in the map
222 codes from the map weren't represented in your data</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">par</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mar=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xaxs=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"i"</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yaxs=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"i"</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex.main=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb6-2">attendMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mapCountryData</span>(worldFairMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addLegend=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb6-3">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameColumnToPlot =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'attending_countries'</span>,</span>
<span id="cb6-4">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">catMethod =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pretty"</span>,</span>
<span id="cb6-5">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colourPalette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">brewer.pal</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Purples"</span>),</span>
<span id="cb6-6">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">oceanCol=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">missingCountryCol =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'white'</span>,</span>
<span id="cb6-7">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapTitle=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Country attendance"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You asked for 7 categories, 10 were used due to pretty() classification</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in brewer.pal(10, "Purples"): n too large, allowed maximum for palette Purples is 9
Returning the palette you asked for with that many colors</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in rwmGetColours(colourPalette, numColours): 9 colours specified and 10
required, using interpolation to calculate colours</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do.call</span>(addMapLegend, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(attendMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendWidth=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendMar=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240813/worldFairs_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">costMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mapCountryData</span>(worldFairMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameColumnToPlot =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cost'</span>,</span>
<span id="cb11-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">catMethod =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pretty"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addLegend=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb11-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colourPalette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">brewer.pal</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Greens"</span>),</span>
<span id="cb11-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">oceanCol=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">missingCountryCol =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'white'</span>,</span>
<span id="cb11-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapTitle=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cost in Millions"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You asked for 7 categories, 9 were used due to pretty() classification</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in brewer.pal(10, "Greens"): n too large, allowed maximum for palette Greens is 9
Returning the palette you asked for with that many colors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do.call</span>(addMapLegend, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(costMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendWidth=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendMar=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240813/worldFairs_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">areaMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mapCountryData</span>(worldFairMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameColumnToPlot =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area'</span>,</span>
<span id="cb15-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">catMethod =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pretty"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addLegend=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb15-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colourPalette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">brewer.pal</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PuBuGn"</span>),</span>
<span id="cb15-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">oceanCol=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">missingCountryCol =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'white'</span>,</span>
<span id="cb15-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapTitle=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Size of fairgrounds"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You asked for 7 categories, 6 were used due to pretty() classification</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in brewer.pal(10, "PuBuGn"): n too large, allowed maximum for palette PuBuGn is 9
Returning the palette you asked for with that many colors</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in rwmGetColours(colourPalette, numColours): 9 colours specified and 6
required, using interpolation to calculate colours</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do.call</span>(addMapLegend, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(areaMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendWidth=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendMar=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240813/worldFairs_files/figure-html/unnamed-chunk-6-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">visitMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mapCountryData</span>(worldFairMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameColumnToPlot =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'visitors'</span>,</span>
<span id="cb20-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">catMethod =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pretty"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addLegend=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb20-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colourPalette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">brewer.pal</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OrRd"</span>),</span>
<span id="cb20-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">oceanCol=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">missingCountryCol =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'white'</span>,</span>
<span id="cb20-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapTitle=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fair Visitors by the Million"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You asked for 7 categories, 8 were used due to pretty() classification</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in brewer.pal(10, "OrRd"): n too large, allowed maximum for palette OrRd is 9
Returning the palette you asked for with that many colors</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in rwmGetColours(colourPalette, numColours): 9 colours specified and 8
required, using interpolation to calculate colours</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do.call</span>(addMapLegend, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(visitMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendWidth=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendMar=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240813/worldFairs_files/figure-html/unnamed-chunk-6-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1">timeMap <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mapCountryData</span>(worldFairMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nameColumnToPlot =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'duration'</span>,</span>
<span id="cb25-2">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">catMethod =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pretty"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">addLegend=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb25-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colourPalette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">brewer.pal</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OrRd"</span>),</span>
<span id="cb25-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">oceanCol=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">missingCountryCol =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'white'</span>,</span>
<span id="cb25-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapTitle=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Length of the World's Fair"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You asked for 7 categories, 9 were used due to pretty() classification</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in brewer.pal(10, "OrRd"): n too large, allowed maximum for palette OrRd is 9
Returning the palette you asked for with that many colors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do.call</span>(addMapLegend, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(timeMap, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendWidth=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legendMar=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>))</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/tt20240813/worldFairs_files/figure-html/unnamed-chunk-6-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>tidyTuesday</category>
  <category>R</category>
  <category>maps</category>
  <guid>https://datawolf04.github.io/posts/tt20240813/worldFairs.html</guid>
  <pubDate>Wed, 14 Aug 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Scraping Weather Data-Proof of concept</title>
  <dc:creator>Steven Wolf</dc:creator>
  <link>https://datawolf04.github.io/posts/weatherScrape240808/weatherScrape.html</link>
  <description><![CDATA[ 





<p>My friend, <a href="https://benleese.com">Ben Leese</a>, was telling me about his most recent project. He has a passion for going through old naturalist’s notebooks and pulling out data from the depths of that analog mess and bringing it into the digital world. He was talking to me about how weather could impact different bird behaviors. But he only had binary weather data (Yes, it rained/No, it didn’t rain). Furthermore, it was from Raleigh, NC rather than Zebulon, NC. While these places are close on the map, weather is even more local than politics. So I said that I’d try to find some better weather data for him.</p>
<p>I found this <a href="https://zperzan.github.io/projects/scrape-weather-underground/">helpful python script</a> for scraping the weather data from <a href="https://www.wunderground.com">Weather Underground</a>, which I will adapt to my purpose.</p>
<div id="8418626f" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> time</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> sys</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> bs4 <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BeautifulSoup <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> BS</span>
<span id="cb1-7"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> selenium <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> webdriver</span>
<span id="cb1-8"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> great_tables <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> GT</span>
<span id="cb1-9"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> scrape_wunderground <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span></code></pre></div>
</div>
<p>I will scrape weather from the <a href="https://www.wunderground.com/dashboard/pws/KNCZEBUL74?cm_ven=localwx_pwsdash">BreakingWind station</a> with code <code>KNCZEBUL74</code> on 8/1/2024, as I am pretty sure this is the closest station to the desired location.</p>
<div id="7aec2dff" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">station_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"KNCZEBUL74"</span></span>
<span id="cb2-2">date_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-08-01"</span></span>
<span id="cb2-3"></span>
<span id="cb2-4">(</span>
<span id="cb2-5">  GT(scrape_wunderground(station_id,date_id).head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))</span>
<span id="cb2-6">    .tab_options(</span>
<span id="cb2-7">      column_labels_background_color <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#3B3A3EFF"</span>,</span>
<span id="cb2-8">  )</span>
<span id="cb2-9">)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div id="ojfftgapgl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>
#ojfftgapgl table {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

#ojfftgapgl thead, tbody, tfoot, tr, td, th { border-style: none; }
 tr { background-color: transparent; }
#ojfftgapgl p { margin: 0; padding: 0; }
 #ojfftgapgl .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }
 #ojfftgapgl .gt_caption { padding-top: 4px; padding-bottom: 4px; }
 #ojfftgapgl .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }
 #ojfftgapgl .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }
 #ojfftgapgl .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #ojfftgapgl .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #ojfftgapgl .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #ojfftgapgl .gt_col_heading { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }
 #ojfftgapgl .gt_column_spanner_outer { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }
 #ojfftgapgl .gt_column_spanner_outer:first-child { padding-left: 0; }
 #ojfftgapgl .gt_column_spanner_outer:last-child { padding-right: 0; }
 #ojfftgapgl .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }
 #ojfftgapgl .gt_spanner_row { border-bottom-style: hidden; }
 #ojfftgapgl .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }
 #ojfftgapgl .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }
 #ojfftgapgl .gt_from_md> :first-child { margin-top: 0; }
 #ojfftgapgl .gt_from_md> :last-child { margin-bottom: 0; }
 #ojfftgapgl .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }
 #ojfftgapgl .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }
 #ojfftgapgl .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }
 #ojfftgapgl .gt_row_group_first td { border-top-width: 2px; }
 #ojfftgapgl .gt_row_group_first th { border-top-width: 2px; }
 #ojfftgapgl .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #ojfftgapgl .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }
 #ojfftgapgl .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }
 #ojfftgapgl .gt_left { text-align: left; }
 #ojfftgapgl .gt_center { text-align: center; }
 #ojfftgapgl .gt_right { text-align: right; font-variant-numeric: tabular-nums; }
 #ojfftgapgl .gt_font_normal { font-weight: normal; }
 #ojfftgapgl .gt_font_bold { font-weight: bold; }
 #ojfftgapgl .gt_font_italic { font-style: italic; }
 #ojfftgapgl .gt_super { font-size: 65%; }
 #ojfftgapgl .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }
 #ojfftgapgl .gt_asterisk { font-size: 100%; vertical-align: 0; }
 
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<tbody>
<tr class="odd gt_col_headings">
<td id="timestamps" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">timestamps</td>
<td id="Temperature" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Temperature</td>
<td id="Dew Point" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Dew Point</td>
<td id="Humidity" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Humidity</td>
<td id="Wind Speed" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Speed</td>
<td id="Wind Gust" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Gust</td>
<td id="Pressure" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pressure</td>
<td id="Precip. Rate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Rate</td>
<td id="Precip. Accum." class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Accum.</td>
</tr>
</tbody>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:04 AM</td>
<td class="gt_row gt_right">75.0</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:09 AM</td>
<td class="gt_row gt_right">75.0</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:14 AM</td>
<td class="gt_row gt_right">75.0</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:19 AM</td>
<td class="gt_row gt_right">74.8</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">91.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:24 AM</td>
<td class="gt_row gt_right">74.8</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">91.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:29 AM</td>
<td class="gt_row gt_right">74.8</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">91.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:34 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:39 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:44 AM</td>
<td class="gt_row gt_right">74.6</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:49 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">72.6</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 12:54 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">73.0</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 12:59 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">73.0</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 1:04 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">73.0</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 1:09 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">72.3</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 1:14 AM</td>
<td class="gt_row gt_right">74.7</td>
<td class="gt_row gt_right">72.2</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 1:19 AM</td>
<td class="gt_row gt_right">74.6</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 1:24 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 1:29 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">92.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-08-01 1:34 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">72.9</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-08-01 1:39 AM</td>
<td class="gt_row gt_right">74.5</td>
<td class="gt_row gt_right">73.0</td>
<td class="gt_row gt_right">93.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.92</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
</tbody>
</table>


</div>
        
</div>
</div>
<p>And it works! That being said, I’ll have to find a different weather station because this one seems somewhat new. There is only partial data for 5/29/2024.</p>
<div id="228036c4" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">date_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-05-29"</span></span>
<span id="cb3-2">(</span>
<span id="cb3-3">  GT(scrape_wunderground(station_id,date_id).head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))</span>
<span id="cb3-4">    .tab_options(</span>
<span id="cb3-5">      column_labels_background_color <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#3B3A3EFF"</span>,</span>
<span id="cb3-6">  )</span>
<span id="cb3-7">)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div id="nwbjaithrb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>
#nwbjaithrb table {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

#nwbjaithrb thead, tbody, tfoot, tr, td, th { border-style: none; }
 tr { background-color: transparent; }
#nwbjaithrb p { margin: 0; padding: 0; }
 #nwbjaithrb .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }
 #nwbjaithrb .gt_caption { padding-top: 4px; padding-bottom: 4px; }
 #nwbjaithrb .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }
 #nwbjaithrb .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }
 #nwbjaithrb .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #nwbjaithrb .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #nwbjaithrb .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #nwbjaithrb .gt_col_heading { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }
 #nwbjaithrb .gt_column_spanner_outer { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }
 #nwbjaithrb .gt_column_spanner_outer:first-child { padding-left: 0; }
 #nwbjaithrb .gt_column_spanner_outer:last-child { padding-right: 0; }
 #nwbjaithrb .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }
 #nwbjaithrb .gt_spanner_row { border-bottom-style: hidden; }
 #nwbjaithrb .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }
 #nwbjaithrb .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }
 #nwbjaithrb .gt_from_md> :first-child { margin-top: 0; }
 #nwbjaithrb .gt_from_md> :last-child { margin-bottom: 0; }
 #nwbjaithrb .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }
 #nwbjaithrb .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }
 #nwbjaithrb .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }
 #nwbjaithrb .gt_row_group_first td { border-top-width: 2px; }
 #nwbjaithrb .gt_row_group_first th { border-top-width: 2px; }
 #nwbjaithrb .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #nwbjaithrb .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }
 #nwbjaithrb .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }
 #nwbjaithrb .gt_left { text-align: left; }
 #nwbjaithrb .gt_center { text-align: center; }
 #nwbjaithrb .gt_right { text-align: right; font-variant-numeric: tabular-nums; }
 #nwbjaithrb .gt_font_normal { font-weight: normal; }
 #nwbjaithrb .gt_font_bold { font-weight: bold; }
 #nwbjaithrb .gt_font_italic { font-style: italic; }
 #nwbjaithrb .gt_super { font-size: 65%; }
 #nwbjaithrb .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }
 #nwbjaithrb .gt_asterisk { font-size: 100%; vertical-align: 0; }
 
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<tbody>
<tr class="odd gt_col_headings">
<td id="timestamps" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">timestamps</td>
<td id="Temperature" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Temperature</td>
<td id="Dew Point" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Dew Point</td>
<td id="Humidity" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Humidity</td>
<td id="Wind Speed" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Speed</td>
<td id="Wind Gust" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Gust</td>
<td id="Pressure" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pressure</td>
<td id="Precip. Rate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Rate</td>
<td id="Precip. Accum." class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Accum.</td>
</tr>
</tbody>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 10:34 PM</td>
<td class="gt_row gt_right">71.2</td>
<td class="gt_row gt_right">51.2</td>
<td class="gt_row gt_right">50.0</td>
<td class="gt_row gt_right">0.2</td>
<td class="gt_row gt_right">0.2</td>
<td class="gt_row gt_right">29.93</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 10:39 PM</td>
<td class="gt_row gt_right">71.7</td>
<td class="gt_row gt_right">53.9</td>
<td class="gt_row gt_right">54.0</td>
<td class="gt_row gt_right">1.4</td>
<td class="gt_row gt_right">9.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 10:44 PM</td>
<td class="gt_row gt_right">73.1</td>
<td class="gt_row gt_right">55.1</td>
<td class="gt_row gt_right">53.0</td>
<td class="gt_row gt_right">0.8</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 10:49 PM</td>
<td class="gt_row gt_right">72.8</td>
<td class="gt_row gt_right">54.9</td>
<td class="gt_row gt_right">53.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 10:54 PM</td>
<td class="gt_row gt_right">72.4</td>
<td class="gt_row gt_right">53.5</td>
<td class="gt_row gt_right">52.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 10:59 PM</td>
<td class="gt_row gt_right">72.2</td>
<td class="gt_row gt_right">53.0</td>
<td class="gt_row gt_right">52.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:04 PM</td>
<td class="gt_row gt_right">72.1</td>
<td class="gt_row gt_right">53.0</td>
<td class="gt_row gt_right">52.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:09 PM</td>
<td class="gt_row gt_right">72.0</td>
<td class="gt_row gt_right">53.0</td>
<td class="gt_row gt_right">52.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:14 PM</td>
<td class="gt_row gt_right">71.9</td>
<td class="gt_row gt_right">52.1</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:19 PM</td>
<td class="gt_row gt_right">71.8</td>
<td class="gt_row gt_right">51.8</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:24 PM</td>
<td class="gt_row gt_right">71.6</td>
<td class="gt_row gt_right">51.6</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:29 PM</td>
<td class="gt_row gt_right">71.6</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">50.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:34 PM</td>
<td class="gt_row gt_right">71.4</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">49.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">10.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:39 PM</td>
<td class="gt_row gt_right">71.3</td>
<td class="gt_row gt_right">51.0</td>
<td class="gt_row gt_right">49.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">8.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.1</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:44 PM</td>
<td class="gt_row gt_right">71.2</td>
<td class="gt_row gt_right">50.1</td>
<td class="gt_row gt_right">48.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">2.0</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:49 PM</td>
<td class="gt_row gt_right">71.1</td>
<td class="gt_row gt_right">50.0</td>
<td class="gt_row gt_right">47.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">1.3</td>
<td class="gt_row gt_right">29.95</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left">2024-05-29 11:54 PM</td>
<td class="gt_row gt_right">71.1</td>
<td class="gt_row gt_right">50.0</td>
<td class="gt_row gt_right">47.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left">2024-05-29 11:59 PM</td>
<td class="gt_row gt_right">70.9</td>
<td class="gt_row gt_right">50.0</td>
<td class="gt_row gt_right">47.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">29.94</td>
<td class="gt_row gt_right">0.0</td>
<td class="gt_row gt_right">0.1</td>
</tr>
</tbody>
</table>


</div>
        
</div>
</div>
<p>And 5/28/2024 has no data.</p>
<div id="c2489a03" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">date_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-05-28"</span></span>
<span id="cb4-2">(</span>
<span id="cb4-3">  GT(scrape_wunderground(station_id,date_id).head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))</span>
<span id="cb4-4">    .tab_options(</span>
<span id="cb4-5">      column_labels_background_color <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#3B3A3EFF"</span>,</span>
<span id="cb4-6">  )</span>
<span id="cb4-7">)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div id="ghtfzfvkho" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>
#ghtfzfvkho table {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

#ghtfzfvkho thead, tbody, tfoot, tr, td, th { border-style: none; }
 tr { background-color: transparent; }
#ghtfzfvkho p { margin: 0; padding: 0; }
 #ghtfzfvkho .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }
 #ghtfzfvkho .gt_caption { padding-top: 4px; padding-bottom: 4px; }
 #ghtfzfvkho .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }
 #ghtfzfvkho .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }
 #ghtfzfvkho .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #ghtfzfvkho .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #ghtfzfvkho .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }
 #ghtfzfvkho .gt_col_heading { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }
 #ghtfzfvkho .gt_column_spanner_outer { color: #FFFFFF; background-color: #3B3A3EFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }
 #ghtfzfvkho .gt_column_spanner_outer:first-child { padding-left: 0; }
 #ghtfzfvkho .gt_column_spanner_outer:last-child { padding-right: 0; }
 #ghtfzfvkho .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }
 #ghtfzfvkho .gt_spanner_row { border-bottom-style: hidden; }
 #ghtfzfvkho .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }
 #ghtfzfvkho .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }
 #ghtfzfvkho .gt_from_md> :first-child { margin-top: 0; }
 #ghtfzfvkho .gt_from_md> :last-child { margin-bottom: 0; }
 #ghtfzfvkho .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }
 #ghtfzfvkho .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }
 #ghtfzfvkho .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }
 #ghtfzfvkho .gt_row_group_first td { border-top-width: 2px; }
 #ghtfzfvkho .gt_row_group_first th { border-top-width: 2px; }
 #ghtfzfvkho .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }
 #ghtfzfvkho .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }
 #ghtfzfvkho .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }
 #ghtfzfvkho .gt_left { text-align: left; }
 #ghtfzfvkho .gt_center { text-align: center; }
 #ghtfzfvkho .gt_right { text-align: right; font-variant-numeric: tabular-nums; }
 #ghtfzfvkho .gt_font_normal { font-weight: normal; }
 #ghtfzfvkho .gt_font_bold { font-weight: bold; }
 #ghtfzfvkho .gt_font_italic { font-style: italic; }
 #ghtfzfvkho .gt_super { font-size: 65%; }
 #ghtfzfvkho .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }
 #ghtfzfvkho .gt_asterisk { font-size: 100%; vertical-align: 0; }
 
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<tbody>
<tr class="odd gt_col_headings">
<td id="timestamps" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">timestamps</td>
<td id="Temperature" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Temperature</td>
<td id="Dew Point" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Dew Point</td>
<td id="Humidity" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Humidity</td>
<td id="Wind Speed" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Speed</td>
<td id="Wind Gust" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wind Gust</td>
<td id="Pressure" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pressure</td>
<td id="Precip. Rate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Rate</td>
<td id="Precip. Accum." class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Precip. Accum.</td>
</tr>
</tbody>
<tbody class="gt_table_body">
</tbody>
</table>


</div>
        
</div>
</div>
<p>I will have to find a different nearby weather station for this purpose of finding Ben some weather data for the time period he is interested in (mid 1970s). And, once I succeed at that, I will have to aggregate the 5-minute data to daily data. But once that’s done, my friend should have more than enough weather data to help him with his model.</p>



 ]]></description>
  <category>weather</category>
  <category>python</category>
  <category>web-scraping</category>
  <guid>https://datawolf04.github.io/posts/weatherScrape240808/weatherScrape.html</guid>
  <pubDate>Thu, 08 Aug 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Olympic countries: Fun facts and visualizations</title>
  <dc:creator>Steven Wolf</dc:creator>
  <link>https://datawolf04.github.io/posts/olympic240805/olympicMedalData.html</link>
  <description><![CDATA[ 





<p>This week we’re exploring Olympics data!</p>
<p>The data this week comes from the <a href="https://www.kaggle.com/datasets/heesoo37/120-years-of-olympic-history-athletes-and-results/">RGriffin Kaggle dataset: 120 years of Olympic history: athletes and results</a>, basic bio data on athletes and medal results from Athens 1896 to Rio 2016.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggtext)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(showtext)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(janitor)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggdist)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggrepel)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(paletteer)</span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gt)</span>
<span id="cb1-10"></span>
<span id="cb1-11"></span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'olympicMedalResults.RData'</span>)</span></code></pre></div>
</div>
<section id="data-in-this-dataset" class="level2">
<h2 class="anchored" data-anchor-id="data-in-this-dataset">Data in this dataset:</h2>
<p>First, I am planning on analyzing the summer and winter olympics separately. Furthermore, it occurs to me that the year in this dataset should be treated as a <code>factor</code> variable, rather than a numeric variable. This will help if (for example) the olympics were skipped or postponed, and it will definitely help when the winter games were shifted by 2 years so that the intervals between games are uniform.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">countryParticipation <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> olympics <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(noc) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">desc</span>(n)) </span></code></pre></div>
</div>
<p>My plan is to plot out participation, medal count, and gold medal count by <del>country</del> NOC region. The reason for this due to the fact that there are an obnoxious number of “teams” (1184) already in this dataset. Also, I don’t think that we want to track the results of “Osborne Swimming Club, Manchester” or “Phalainis ton Thorichtou ‘Psara’-3” on the same level as Spain, China, Brazil, USA, etc. As it stands, there are plenty of countries to keep track of! As it is, there are 230 national olympic committeees. For fun, let’s look at the least frequent participants.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fnfvrfhgjj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fnfvrfhgjj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fnfvrfhgjj thead, #fnfvrfhgjj tbody, #fnfvrfhgjj tfoot, #fnfvrfhgjj tr, #fnfvrfhgjj td, #fnfvrfhgjj th {
  border-style: none;
}

#fnfvrfhgjj p {
  margin: 0;
  padding: 0;
}

#fnfvrfhgjj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fnfvrfhgjj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fnfvrfhgjj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fnfvrfhgjj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fnfvrfhgjj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fnfvrfhgjj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fnfvrfhgjj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fnfvrfhgjj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fnfvrfhgjj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fnfvrfhgjj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fnfvrfhgjj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fnfvrfhgjj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fnfvrfhgjj .gt_spanner_row {
  border-bottom-style: hidden;
}

#fnfvrfhgjj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fnfvrfhgjj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fnfvrfhgjj .gt_from_md > :first-child {
  margin-top: 0;
}

#fnfvrfhgjj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fnfvrfhgjj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fnfvrfhgjj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fnfvrfhgjj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fnfvrfhgjj .gt_row_group_first td {
  border-top-width: 2px;
}

#fnfvrfhgjj .gt_row_group_first th {
  border-top-width: 2px;
}

#fnfvrfhgjj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fnfvrfhgjj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fnfvrfhgjj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fnfvrfhgjj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fnfvrfhgjj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fnfvrfhgjj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fnfvrfhgjj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fnfvrfhgjj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fnfvrfhgjj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fnfvrfhgjj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fnfvrfhgjj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fnfvrfhgjj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fnfvrfhgjj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fnfvrfhgjj .gt_left {
  text-align: left;
}

#fnfvrfhgjj .gt_center {
  text-align: center;
}

#fnfvrfhgjj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fnfvrfhgjj .gt_font_normal {
  font-weight: normal;
}

#fnfvrfhgjj .gt_font_bold {
  font-weight: bold;
}

#fnfvrfhgjj .gt_font_italic {
  font-style: italic;
}

#fnfvrfhgjj .gt_super {
  font-size: 65%;
}

#fnfvrfhgjj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fnfvrfhgjj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fnfvrfhgjj .gt_indent_1 {
  text-indent: 5px;
}

#fnfvrfhgjj .gt_indent_2 {
  text-indent: 10px;
}

#fnfvrfhgjj .gt_indent_3 {
  text-indent: 15px;
}

#fnfvrfhgjj .gt_indent_4 {
  text-indent: 20px;
}

#fnfvrfhgjj .gt_indent_5 {
  text-indent: 25px;
}

#fnfvrfhgjj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#fnfvrfhgjj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header gt_heading">
<th colspan="2" class="gt_heading gt_title gt_font_normal" style="background-color: #3B7C70; color: #FFFFFF">Olympic participant breakdown</th>
</tr>
<tr class="odd gt_heading">
<th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="background-color: #3B7C70; color: #FFFFFF">10 lowest participating countries</th>
</tr>
<tr class="header gt_col_headings">
<th id="Country code" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Country code</th>
<th id="Participant #" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="background-color: #3B3A3E; color: #FFFFFF" scope="col">Participant #</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="noc">YAR</td>
<td class="gt_row gt_right" headers="n">11</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="noc">BRU</td>
<td class="gt_row gt_right" headers="n">10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="noc">TLS</td>
<td class="gt_row gt_right" headers="n">9</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="noc">KOS</td>
<td class="gt_row gt_right" headers="n">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="noc">TUV</td>
<td class="gt_row gt_right" headers="n">7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="noc">YMD</td>
<td class="gt_row gt_right" headers="n">5</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="noc">SSD</td>
<td class="gt_row gt_right" headers="n">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="noc">NBO</td>
<td class="gt_row gt_right" headers="n">2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="noc">UNK</td>
<td class="gt_row gt_right" headers="n">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="noc">NFL</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="2" class="gt_sourcenote" style="background-color: #3B7C70; color: #FFFFFF"><p><strong>#TidyTuesday</strong> • Source: RGriffin Kaggle dataset</p></td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
<section id="aside-ummm" class="level3">
<h3 class="anchored" data-anchor-id="aside-ummm">Aside: Ummm…</h3>
<p>What is NFL and who is the lone participant from there?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">olympics <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(noc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NFL"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 15
$ id     &lt;dbl&gt; 36547
$ name   &lt;chr&gt; "Robert Arthur \"Bob\" Fowler"
$ sex    &lt;chr&gt; "M"
$ age    &lt;dbl&gt; 21
$ height &lt;dbl&gt; 170
$ weight &lt;dbl&gt; 57
$ team   &lt;chr&gt; "Newfoundland"
$ noc    &lt;chr&gt; "NFL"
$ games  &lt;chr&gt; "1904 Summer"
$ year   &lt;dbl&gt; 1904
$ season &lt;chr&gt; "Summer"
$ city   &lt;chr&gt; "St. Louis"
$ sport  &lt;chr&gt; "Athletics"
$ event  &lt;chr&gt; "Athletics Men's Marathon"
$ medal  &lt;chr&gt; NA</code></pre>
</div>
</div>
<p>Ok, wait a minute. So the Canadians don’t want to accept this guy? Was Newfoundland it’s own country back then?</p>
<p><em>(Feverish googling occurs)</em></p>
<p>Well, I’ll be darned, it was! According to <a href="https://en.wikipedia.org/wiki/Newfoundland_and_Labrador">Wikipedia</a>:</p>
<blockquote class="blockquote">
<p>Until 1949, the Dominion of Newfoundland was a separate dominion in the British Empire. In 1933, the House of Assembly of the self-governing dominion voted to dissolve itself and to hand over administration of Newfoundland and Labrador to the British-appointed Commission of Government. This followed the suffering caused by the Great Depression and Newfoundland’s participation in the First World War. On March 31, 1949, it became the 10th and most recent province to join the Canadian Confederation as “Newfoundland”. On December 6, 2001, the Constitution of Canada was amended to change the province’s name from “Newfoundland” to “Newfoundland and Labrador”.</p>
</blockquote>
<p>Huh…I learn something new every day! And here I thought it was because most Canadians think <em>(insert Newfie joke here)</em>.</p>
</section>
</section>
<section id="back-to-the-show" class="level2">
<h2 class="anchored" data-anchor-id="back-to-the-show">Back to the show</h2>
<p>I think that I should create a function that sorts the participation data (and later, the medalist data) by country and year. Also, since 230 lines would make the graph look like messy spaghetti, I think it would be best to limit the results to the top 10 countries by the metric being plotted (participation, number medalists, number gold medalists).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">countByCountryYearSzn <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(dat,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>){</span>
<span id="cb5-2">  cbcys <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">all_of</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"season"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"noc"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year"</span>)))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb5-4">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pcount =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>()</span>
<span id="cb5-5">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb5-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cumCount =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(pcount)</span>
<span id="cb5-8">    )</span>
<span id="cb5-9">  </span>
<span id="cb5-10">  countryTotal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(noc) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">desc</span>(n))</span>
<span id="cb5-12">  </span>
<span id="cb5-13">  nC <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>(countryTotal)</span>
<span id="cb5-14">  </span>
<span id="cb5-15">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span>(top){</span>
<span id="cb5-16">    cKeep <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> countryTotal[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, ]</span>
<span id="cb5-17">  }<span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>{</span>
<span id="cb5-18">    cKeep <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> countryTotal[(nC<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">-10</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>nC, ]</span>
<span id="cb5-19">  }</span>
<span id="cb5-20">  </span>
<span id="cb5-21">  out <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> cbcys <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">inner_join</span>(cKeep,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">join_by</span>(noc))</span>
<span id="cb5-22">  </span>
<span id="cb5-23">  out<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>noc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(out<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>noc, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> cKeep<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>noc)</span>
<span id="cb5-24"></span>
<span id="cb5-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(out)</span>
<span id="cb5-26">}</span></code></pre></div>
</div>
<p>Now, let’s make a graph of olympic participation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">part <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countByCountryYearSzn</span>(olympics,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'season', 'noc'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(part, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>cumCount, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>noc)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_step</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> season, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_simple</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb8-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>grn,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>grn),</span>
<span id="cb8-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGrn,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGrn),</span>
<span id="cb8-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGrn,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGrn),</span>
<span id="cb8-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGrn,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGrn)</span>
<span id="cb8-8">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb8-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Olympic participation by country (top 10)"</span>,</span>
<span id="cb8-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year of Olympic Games"</span>,</span>
<span id="cb8-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cumulative participant count"</span>,</span>
<span id="cb8-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text,</span>
<span id="cb8-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nation"</span></span>
<span id="cb8-15">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_d</span>(col_pal_dis_long)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/olympic240805/olympicMedalData_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The medal breakdown</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">olyMedal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> olympics <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(medal))</span>
<span id="cb9-2"></span>
<span id="cb9-3">medalists <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countByCountryYearSzn</span>(olyMedal,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'season', 'noc'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(medalists, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>year,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>cumCount,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>noc)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_step</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> season, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_simple</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb11-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>silver,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>silver),</span>
<span id="cb11-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltSilver,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltSilver),</span>
<span id="cb11-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltSilver,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltSilver),</span>
<span id="cb11-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltSilver,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltSilver)</span>
<span id="cb11-8">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb11-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Olympic medalists by country (top 10)"</span>,</span>
<span id="cb11-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year of Olympic Games"</span>,</span>
<span id="cb11-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cumulative medal count"</span>,</span>
<span id="cb11-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text,</span>
<span id="cb11-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nation"</span></span>
<span id="cb11-15">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_d</span>(col_pal_dis_long)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/olympic240805/olympicMedalData_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I will note that <code>URS</code> is the Soviet Union, and <code>RUS</code> is Russia. Clearly that country’s 20th century history means that it is not treated as continuous by the Olympic Federation. It reminds me of when I was a kid watching <em>Where in the World is Carmen Sandiego</em> and all of a sudden there were new countries on the European maps. &lt;/nostalgia trip&gt;</p>
<p>But you can totally see the rivalry fueled by the Cold War when you look at the “slope” of the summer olympic medal accumulation graph and compare the Soviets (and later, the Russians) to the Americans.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">olyGold <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> olympics <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(medal<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gold"</span>)</span>
<span id="cb12-2"></span>
<span id="cb12-3">goldMetals <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">countByCountryYearSzn</span>(olyGold,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">top=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'season', 'noc'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(goldMetals, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>year,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>cumCount,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>noc)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_step</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> season, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free_y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb14-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_simple</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb14-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>gold,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>gold),</span>
<span id="cb14-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGold,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGold),</span>
<span id="cb14-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGold,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGold),</span>
<span id="cb14-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>ltGold,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>ltGold)</span>
<span id="cb14-8">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb14-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Olympic Golds by country (top 10)"</span>,</span>
<span id="cb14-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year of Olympic Games"</span>,</span>
<span id="cb14-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cumulative gold metal count"</span>,</span>
<span id="cb14-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text,</span>
<span id="cb14-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nation"</span></span>
<span id="cb14-15">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_d</span>(col_pal_dis_long)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/olympic240805/olympicMedalData_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>tidyTuesday</category>
  <category>R</category>
  <guid>https://datawolf04.github.io/posts/olympic240805/olympicMedalData.html</guid>
  <pubDate>Wed, 07 Aug 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Summer Movies</title>
  <dc:creator>Steven Wolf</dc:creator>
  <link>https://datawolf04.github.io/posts/summerMovies/summerMovies.html</link>
  <description><![CDATA[ 





<p>This week we’re exploring “summer” movies: movies with <em>summer</em> in their title!</p>
<p>The data this week comes from the <a href="https://developer.imdb.com/non-commercial-datasets/">Internet Movie Database</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggtext)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(showtext)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(janitor)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggdist)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggrepel)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(paletteer)</span>
<span id="cb1-9"></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">load</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'summerMovie.RData'</span>)</span></code></pre></div>
</div>
<section id="popularity-of-movie-by-year" class="level2">
<h2 class="anchored" data-anchor-id="popularity-of-movie-by-year">Popularity of movie by year</h2>
<p>In some sense how well-known or popular a movie is should depend on the year. I’m guessing that very old movies may not have as many votes in the IMDB system. This could also bias the ratings</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(summer_movies, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>year,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>num_votes)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>oneCol) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb2-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year movie released"</span>,</span>
<span id="cb2-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Number of ratings"</span>,</span>
<span id="cb2-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text</span>
<span id="cb2-7">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_simple</span>()</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/summerMovies/summerMovies_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I can definitely see that there is a volume bias towards newer movies. Let’s explore if this shows up in the ratings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(summer_movies, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>num_votes, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>average_rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span>year)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_log10</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">trans_breaks</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"log10"</span>, <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span>x),</span>
<span id="cb4-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">trans_format</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"log10"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">math_format</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span>.x))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_c</span>(col_pal_cont) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb4-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Number of ratings"</span>,</span>
<span id="cb4-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average rating"</span>,</span>
<span id="cb4-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>,</span>
<span id="cb4-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text</span>
<span id="cb4-12">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_simple</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/summerMovies/summerMovies_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I’d say that there are no truly universally bad summer movies (for example with everyone scoring it a 0 or 1 out of 10). Despite the recency bias in the rating volume, it would seem that movies can be rated poorly or highly regardless of the year the movie was released. It also seems like there is a “reversion to the mean” effect for movies that have more votes, although this could simply be the result of sparse data. By “reversion to the mean” I am referring to the vaguely triangular shape of the blob of points, suggesting that as a movie is rated more and more, the diversity of opinion forces the mean rating to tend away from extreme values.</p>
</section>
<section id="re-imagining-other-work" class="level2">
<h2 class="anchored" data-anchor-id="re-imagining-other-work">Re-imagining other work</h2>
<p>As I’m doing this a bit late in the game, I can take advantage of the work some others have done. I saw <a href="https://github.com/poncest/tidytuesday/tree/main/2024/Week_31">this plot</a>, and thought it would be good to replicate here, with a subtle twist.</p>
<p><img src="https://raw.githubusercontent.com/poncest/tidytuesday/main/2024/Week_31/2024_31.png" class="img-fluid"></p>
<p>Rather than plotting mean values for each genre, I thought I’d make a box plot instead of plotting the average rating. So I will tidy up the data. Furthermore, since I’m creating a box plot, I’m going to remove genres with fewer than <img src="https://latex.codecogs.com/png.latex?N=5"> ratings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">globalMedian <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(summer_movies<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>average_rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb5-2">gDat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> summer_movies <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate_longer_delim</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> genres, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">delim =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(genres) </span>
<span id="cb5-4"></span>
<span id="cb5-5">newGenre <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  gDat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb5-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">count =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(),</span>
<span id="cb5-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rating =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(average_rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb5-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.groups =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"drop"</span></span>
<span id="cb5-10">  )</span>
<span id="cb5-11"></span>
<span id="cb5-12">data4plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">full_join</span>(newGenre,gDat,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"genres"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb5-14">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">genre_count =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_glue</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{genres} ({count})"</span>),</span>
<span id="cb5-15">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">genre_count =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_reorder</span>(genre_count, rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.desc =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>),</span>
<span id="cb5-16">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">highlight =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(rating <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> globalMedian, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"yes"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"no"</span>)</span>
<span id="cb5-17">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(count<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
</div>
<p>And finally, the plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(data4plot, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>average_rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>genre_count, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>highlight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(</span>
<span id="cb6-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> globalMedian,</span>
<span id="cb6-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb6-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gray'</span></span>
<span id="cb6-6">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb6-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rating"</span>,</span>
<span id="cb6-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Movie Genre (count)"</span>,</span>
<span id="cb6-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> caption_text</span>
<span id="cb6-12">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_discrete</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_paletteer_d</span>(col_pal_dis) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_cartesian</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">clip=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'off'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_catY</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://datawolf04.github.io/posts/summerMovies/summerMovies_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="final-notes" class="level2">
<h2 class="anchored" data-anchor-id="final-notes">Final notes</h2>
<p>I just found out about #TidyTuesday, just this week, and I want to participate. So the purpose of this post is mostly to get a blog going, and I hope to update approximately monthly. Now that this post is written, we’ll see if I can get this onto Github Pages. 😄</p>
<p>[Edit: Phew! That worked!]</p>


</section>

 ]]></description>
  <category>tidyTuesday</category>
  <category>R</category>
  <guid>https://datawolf04.github.io/posts/summerMovies/summerMovies.html</guid>
  <pubDate>Fri, 02 Aug 2024 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
