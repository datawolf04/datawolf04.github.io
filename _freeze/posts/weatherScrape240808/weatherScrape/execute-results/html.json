{
  "hash": "43993cc7456f1bbecf2f9eade594ad73",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Scraping Weather Data-Proof of concept\"\ndescription: \"Scraping weather data near Zebulon, NC\"\nauthor: \"Steven Wolf\"\ndate: \"8/7/2024\"\ncategories:\n  - weather\n  - python\njupyter: python3\ndraft: true\n---\n\n\nMy friend, [Ben Leese](https://benleese.com), was telling me about his most recent project. He has a passion for going through old naturalist's notebooks and pulling out data from the depths of that analog mess and bringing it into the digital world. And he was talking about how weather could impact different bird behaviors. But he only had binary weather data (Yes, it rained/No it didn't). Furthermore, it was from Raleigh, NC rather than Zebulon, NC. While these places are close on the map, they aren't really the same.\n\nSo I said that I'd try to find some better weather data for him. I found this [helpful python script](https://zperzan.github.io/projects/scrape-weather-underground/) for scraping the weather data from [Weather Underground](https://www.wunderground.com), which I will adapt to my purpose.\n\n::: {#2fb93f4a .cell execution_count=1}\n``` {.python .cell-code}\nimport time\nimport sys\n\nimport numpy as np\nimport pandas as pd\nfrom bs4 import BeautifulSoup as BS\nfrom selenium import webdriver\n\n# Set the absolute path to chromedriver\nchromedriver_path = '/usr/local/bin/chromedriver'\n\nfrom scrape_wunderground import *\n```\n:::\n\n\nI will scrape weather from the [Riley Hill Rd station](https://www.wunderground.com/dashboard/pws/KNCZEBUL20?cm_ven=localwx_pwsdash) with code `KNCZEBUL20` on 9/4/2023.\n\n::: {#84f96b80 .cell execution_count=2}\n``` {.python .cell-code}\nstation_id = \"KNCZEBUL20\"\ndate_id = \"2023-09-04\"\n\nprint_tables(station_id, date_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Unnamed: 0      High      Low  Average\n0    Temperature   96.5 °F  66.8 °F  80.6 °F\n1      Dew Point   76.0 °F  64.0 °F  70.7 °F\n2       Humidity     92 °%    47 °%    75 °%\n3  Precipitation  0.00 °in       --       --\n       Unnamed: 0       High        Low   Average\n0      Wind Speed   2.0 °mph   0.0 °mph  0.0 °mph\n1       Wind Gust   9.0 °mph         --  0.8 °mph\n2  Wind Direction         --         --          \n3        Pressure  30.01 °in  29.92 °in        --\n        Time\n0   12:00 AM\n1   12:15 AM\n2   12:30 AM\n3   12:45 AM\n4    1:00 AM\n..       ...\n91  10:45 PM\n92  11:00 PM\n93  11:15 PM\n94  11:30 PM\n95  11:45 PM\n\n[96 rows x 1 columns]\n        Time Temperature Dew Point Humidity   Wind     Speed      Gust  \\\n0                                                                        \n1   12:00 AM     71.7 °F   68.0 °F    88 °%  North  0.0 °mph  0.0 °mph   \n2   12:15 AM     71.9 °F   68.0 °F    88 °%  North  0.0 °mph  0.0 °mph   \n3   12:30 AM     71.6 °F   68.0 °F    88 °%  North  0.0 °mph  0.0 °mph   \n4   12:45 AM     71.4 °F   67.0 °F    88 °%  North  0.0 °mph  0.0 °mph   \n..       ...         ...       ...      ...    ...       ...       ...   \n92  10:45 PM     76.1 °F   72.0 °F    88 °%  North  0.0 °mph  0.0 °mph   \n93  11:00 PM     75.8 °F   72.0 °F    89 °%  North  0.0 °mph  0.0 °mph   \n94  11:15 PM     75.4 °F   72.0 °F    89 °%  North  0.0 °mph  0.0 °mph   \n95  11:30 PM     74.9 °F   71.0 °F    90 °%  North  0.0 °mph  0.0 °mph   \n96  11:45 PM     74.2 °F   71.0 °F    90 °%  North  0.0 °mph  0.0 °mph   \n\n     Pressure Precip. Rate. Precip. Accum. UV Solar  \n0                                                    \n1   29.99 °in      0.00 °in       0.00 °in     w/m²  \n2   29.99 °in      0.00 °in       0.00 °in     w/m²  \n3   29.99 °in      0.00 °in       0.00 °in     w/m²  \n4   29.98 °in      0.00 °in       0.00 °in     w/m²  \n..        ...           ...            ... ..   ...  \n92  29.95 °in      0.00 °in       0.00 °in     w/m²  \n93  29.95 °in      0.00 °in       0.00 °in     w/m²  \n94  29.96 °in      0.00 °in       0.00 °in     w/m²  \n95  29.95 °in      0.00 °in       0.00 °in     w/m²  \n96  29.96 °in      0.00 °in       0.00 °in     w/m²  \n\n[97 rows x 12 columns]\n```\n:::\n:::\n\n\nIn principle, this pulls out ***so much more*** than the data that I'll need. I'll need to do some processing to get daily summary statistics.\n\nThat being said, I'll have to find a different weather station because this one seems somewhat new.\n\n::: {#3d8ad343 .cell execution_count=3}\n``` {.python .cell-code}\nstation_id = \"KNCZEBUL20\"\ndate_id = \"1976-09-04\"\n\nprint_tables(station_id, date_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Unnamed: 0 High Low Average\n0    Temperature   --  --      --\n1      Dew Point   --  --      --\n2       Humidity   --  --      --\n3  Precipitation   --  --      --\n       Unnamed: 0 High Low Average\n0      Wind Speed   --  --      --\n1       Wind Gust   --  --      --\n2  Wind Direction   --  --        \n3        Pressure   --  --      --\nEmpty DataFrame\nColumns: [Time]\nIndex: []\n  Time Temperature Dew Point Humidity Wind Speed Gust Pressure Precip. Rate.  \\\n0                                                                              \n\n  Precip. Accum. UV Solar  \n0                          \n```\n:::\n:::\n\n\n",
    "supporting": [
      "weatherScrape_files"
    ],
    "filters": [],
    "includes": {}
  }
}