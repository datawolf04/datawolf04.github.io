{
  "hash": "0a6d72c3a523d6e30809f54692be5ef2",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Scraping Weather Data-Proof of concept\"\ndescription: \"Scraping weather data near Zebulon, NC\"\nauthor: \"Steven Wolf\"\ndate: \"8/8/2024\"\ncategories:\n  - weather\n  - python\njupyter: python3\ndraft: true\n---\n\n\nMy friend, [Ben Leese](https://benleese.com), was telling me about his most recent project. He has a passion for going through old naturalist's notebooks and pulling out data from the depths of that analog mess and bringing it into the digital world. And he was talking about how weather could impact different bird behaviors. But he only had binary weather data (Yes, it rained/No it didn't). Furthermore, it was from Raleigh, NC rather than Zebulon, NC. While these places are close on the map, they aren't really the same.\n\nSo I said that I'd try to find some better weather data for him. I found this [helpful python script](https://zperzan.github.io/projects/scrape-weather-underground/) for scraping the weather data[^1] from [Weather Underground](https://www.wunderground.com), which I will adapt to my purpose. \n\n::: {#382d37f6 .cell execution_count=1}\n``` {.python .cell-code}\nimport time\nimport sys\n\nimport numpy as np\nimport pandas as pd\nfrom bs4 import BeautifulSoup as BS\nfrom selenium import webdriver\n\n# Set the absolute path to chromedriver\nchromedriver_path = '/usr/local/bin/chromedriver'\n\nfrom scrape_wunderground import *\n```\n:::\n\n\nI will scrape weather from the [BreakingWind  station](https://www.wunderground.com/dashboard/pws/KNCZEBUL74?cm_ven=localwx_pwsdash) with code `KNCZEBUL74` on 1/1/2024, as I am pretty sure this is the closest station to the desired location\n\n::: {#ee712195 .cell execution_count=2}\n``` {.python .cell-code}\nstation_id = \"KNCZEBUL74\"\ndate_id = \"2024-08-01\"\n\nprint_tables(station_id, date_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Unnamed: 0      High      Low  Average\n0    Temperature  103.3 °F  71.8 °F  84.7 °F\n1      Dew Point   81.0 °F  69.0 °F  74.8 °F\n2       Humidity     95 °%    42 °%    76 °%\n3  Precipitation  0.00 °in       --       --\n       Unnamed: 0       High        Low   Average\n0      Wind Speed   6.0 °mph   0.0 °mph  0.6 °mph\n1       Wind Gust   6.0 °mph         --  1.7 °mph\n2  Wind Direction         --         --        SW\n3        Pressure  29.97 °in  29.89 °in        --\n         Time\n0    12:04 AM\n1    12:09 AM\n2    12:14 AM\n3    12:19 AM\n4    12:24 AM\n..        ...\n283  11:39 PM\n284  11:44 PM\n285  11:49 PM\n286  11:54 PM\n287  11:59 PM\n\n[288 rows x 1 columns]\n         Time Temperature Dew Point Humidity  Wind     Speed      Gust  \\\n0                                                                        \n1    12:04 AM     75.0 °F   72.0 °F    92 °%  East  0.0 °mph  0.0 °mph   \n2    12:09 AM     75.0 °F   72.0 °F    92 °%  East  0.0 °mph  0.0 °mph   \n3    12:14 AM     75.0 °F   72.0 °F    92 °%  East  0.0 °mph  0.0 °mph   \n4    12:19 AM     74.8 °F   72.0 °F    91 °%  East  0.0 °mph  0.0 °mph   \n..        ...         ...       ...      ...   ...       ...       ...   \n284  11:39 PM     78.5 °F   75.0 °F    90 °%   ESE  0.0 °mph  0.0 °mph   \n285  11:44 PM     78.4 °F   75.0 °F    91 °%   ESE  0.0 °mph  0.0 °mph   \n286  11:49 PM     78.4 °F   75.0 °F    91 °%   ESE  0.0 °mph  0.0 °mph   \n287  11:54 PM     78.3 °F   75.0 °F    91 °%   ESE  0.0 °mph  0.0 °mph   \n288  11:59 PM     78.3 °F   75.0 °F    90 °%   SSE  0.0 °mph  0.0 °mph   \n\n      Pressure Precip. Rate. Precip. Accum. UV Solar  \n0                                                     \n1    29.92 °in      0.00 °in       0.00 °in     w/m²  \n2    29.92 °in      0.00 °in       0.00 °in     w/m²  \n3    29.92 °in      0.00 °in       0.00 °in     w/m²  \n4    29.92 °in      0.00 °in       0.00 °in     w/m²  \n..         ...           ...            ... ..   ...  \n284  29.92 °in      0.00 °in       0.00 °in     w/m²  \n285  29.92 °in      0.00 °in       0.00 °in     w/m²  \n286  29.92 °in      0.00 °in       0.00 °in     w/m²  \n287  29.92 °in      0.00 °in       0.00 °in     w/m²  \n288  29.92 °in      0.00 °in       0.00 °in     w/m²  \n\n[289 rows x 12 columns]\n```\n:::\n:::\n\n\nAnd it works! That being said, I'll have to find a different weather station because this one seems somewhat new. There is only partial data for 5/29/2024.\n\n::: {#cfd6b577 .cell execution_count=3}\n``` {.python .cell-code}\ndate_id = \"2024-05-29\"\nprint_tables(station_id, date_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Unnamed: 0      High      Low  Average\n0    Temperature   73.2 °F  70.9 °F  71.8 °F\n1      Dew Point   56.0 °F  50.0 °F  52.0 °F\n2       Humidity     56 °%    47 °%    50 °%\n3  Precipitation  0.10 °in       --       --\n       Unnamed: 0       High        Low   Average\n0      Wind Speed  10.0 °mph   0.0 °mph  0.1 °mph\n1       Wind Gust  10.0 °mph         --  7.4 °mph\n2  Wind Direction         --         --       SSE\n3        Pressure  29.95 °in  29.93 °in        --\n        Time\n0   10:34 PM\n1   10:39 PM\n2   10:44 PM\n3   10:49 PM\n4   10:54 PM\n5   10:59 PM\n6   11:04 PM\n7   11:09 PM\n8   11:14 PM\n9   11:19 PM\n10  11:24 PM\n11  11:29 PM\n12  11:34 PM\n13  11:39 PM\n14  11:44 PM\n15  11:49 PM\n16  11:54 PM\n17  11:59 PM\n        Time Temperature Dew Point Humidity   Wind     Speed       Gust  \\\n0                                                                         \n1   10:34 PM     71.2 °F   51.2 °F    50 °%  South  0.2 °mph   0.2 °mph   \n2   10:39 PM     71.7 °F   53.9 °F    54 °%    SSE  1.4 °mph   9.0 °mph   \n3   10:44 PM     73.1 °F   55.1 °F    53 °%     NE  0.8 °mph  10.0 °mph   \n4   10:49 PM     72.8 °F   54.9 °F    53 °%  South  0.0 °mph  10.0 °mph   \n5   10:54 PM     72.4 °F   53.5 °F    52 °%  South  0.0 °mph  10.0 °mph   \n6   10:59 PM     72.2 °F   53.0 °F    52 °%  South  0.0 °mph  10.0 °mph   \n7   11:04 PM     72.1 °F   53.0 °F    52 °%  South  0.0 °mph  10.0 °mph   \n8   11:09 PM     72.0 °F   53.0 °F    52 °%  South  0.0 °mph  10.0 °mph   \n9   11:14 PM     71.9 °F   52.1 °F    51 °%  South  0.0 °mph  10.0 °mph   \n10  11:19 PM     71.8 °F   51.8 °F    51 °%  South  0.0 °mph  10.0 °mph   \n11  11:24 PM     71.6 °F   51.6 °F    51 °%  South  0.0 °mph  10.0 °mph   \n12  11:29 PM     71.6 °F   51.0 °F    50 °%  South  0.0 °mph  10.0 °mph   \n13  11:34 PM     71.4 °F   51.0 °F    49 °%  South  0.0 °mph  10.0 °mph   \n14  11:39 PM     71.3 °F   51.0 °F    49 °%  South  0.0 °mph   8.0 °mph   \n15  11:44 PM     71.2 °F   50.1 °F    48 °%  South  0.0 °mph   2.0 °mph   \n16  11:49 PM     71.1 °F   50.0 °F    47 °%  South  0.0 °mph   1.3 °mph   \n17  11:54 PM     71.1 °F   50.0 °F    47 °%  South  0.0 °mph   0.0 °mph   \n18  11:59 PM     70.9 °F   50.0 °F    47 °%  South  0.0 °mph   0.0 °mph   \n\n     Pressure Precip. Rate. Precip. Accum. UV Solar  \n0                                                    \n1   29.93 °in      0.00 °in       0.00 °in     w/m²  \n2   29.94 °in      0.10 °in       0.10 °in     w/m²  \n3   29.94 °in      0.10 °in       0.10 °in     w/m²  \n4   29.94 °in      0.10 °in       0.10 °in     w/m²  \n5   29.94 °in      0.10 °in       0.10 °in     w/m²  \n6   29.94 °in      0.10 °in       0.10 °in     w/m²  \n7   29.95 °in      0.10 °in       0.10 °in     w/m²  \n8   29.95 °in      0.10 °in       0.10 °in     w/m²  \n9   29.95 °in      0.10 °in       0.10 °in     w/m²  \n10  29.95 °in      0.10 °in       0.10 °in     w/m²  \n11  29.95 °in      0.10 °in       0.10 °in     w/m²  \n12  29.95 °in      0.10 °in       0.10 °in     w/m²  \n13  29.95 °in      0.10 °in       0.10 °in     w/m²  \n14  29.95 °in      0.10 °in       0.10 °in     w/m²  \n15  29.95 °in      0.00 °in       0.10 °in     w/m²  \n16  29.95 °in      0.00 °in       0.10 °in     w/m²  \n17  29.94 °in      0.00 °in       0.10 °in     w/m²  \n18  29.94 °in      0.00 °in       0.10 °in     w/m²  \n```\n:::\n:::\n\n\nAnd 5/28/2024 has no data. \n\n::: {#2a0542d2 .cell execution_count=4}\n``` {.python .cell-code}\ndate_id = \"2024-05-28\"\nprint_tables(station_id, date_id)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Unnamed: 0      High      Low  Average\n0    Temperature   73.2 °F  70.9 °F  71.8 °F\n1      Dew Point   56.0 °F  50.0 °F  52.0 °F\n2       Humidity     56 °%    47 °%    50 °%\n3  Precipitation  0.10 °in       --       --\n       Unnamed: 0       High        Low   Average\n0      Wind Speed  10.0 °mph   0.0 °mph  0.1 °mph\n1       Wind Gust  10.0 °mph         --  7.4 °mph\n2  Wind Direction         --         --       SSE\n3        Pressure  29.95 °in  29.93 °in        --\nEmpty DataFrame\nColumns: [Time]\nIndex: []\n  Time Temperature Dew Point Humidity Wind Speed Gust Pressure Precip. Rate.  \\\n0                                                                              \n\n  Precip. Accum. UV Solar  \n0                          \n```\n:::\n:::\n\n\nI will have to find a different nearby weather station for this purpose. But this opens up this project to a host of weather data that can be used for modeling.\n\n[^1]: Note to the reader: the linked script is not able to get the data that it claims right away. It would seem that the structure of the website has changed, and therefore the script must change in order to access the correct data. Rather than working on that process right now, I'll leave it for later.\n\n",
    "supporting": [
      "weatherScrape_files"
    ],
    "filters": [],
    "includes": {}
  }
}